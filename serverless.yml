# Welcome to Serverless!

service: btw-export
app: mb-btw-export

custom:
  bucket: mb-btw-export-files

provider:
  name: aws
  runtime: nodejs12.x

  stage: dev
  region: eu-central-1

  iamRoleStatements:
    - Effect: Allow
      Action:
        - s3:GetObject
        - s3:PutObject
        - s3:PutObjectAcl
      Resource: "arn:aws:s3:::${self:custom.bucket}/*"

  
functions:
  listing:
    handler: handlerList.listing
    events:
      - http:
          path: btw-export/{admin}
          method: get
          request:
            parameters:
              paths:
                admin: true